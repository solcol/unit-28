<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Properties</title>

    <style>
        body {
            max-width: 90em;
            margin: 5vh auto;
            background-color: #efefef;
            color: #222;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        }

        ol {
            padding: 0;
        }

        @media screen and (min-width: 50em) {
            ol {
                columns: 3;
            }
        }

        li {
            display: inline-block;
        }
    </style>
</head>

<body>
    <script>
        const houses = [{
                "title": "1 Blossomfield Road",
                "type": "flat",
                "is_for": "purchase",
                "rights": "Leasehold",
                "price": 200000,
                "weight": 
            },

            {
                "title": "321 Station Road",
                "type": "house",
                "is_for": "purchase",
                "rights": "Freehold",
                "price": 321987
            },
            
            {
                "title": "321 Station Road",
                "type": "house",
                "is_for": "purchase",
                "rights": "Freehold",
                "price": 321987
            },
            
            {
                "title": "321 Station Road",
                "type": "house",
                "is_for": "purchase",
                "rights": "Freehold",
                "price": 321987
            },
            
            {
                "title": "321 Station Road",
                "type": "house",
                "is_for": "purchase",
                "rights": "Freehold",
                "price": 321987
            },
            
            {
                "title": "321 Station Road",
                "type": "house",
                "is_for": "purchase",
                "rights": "Freehold",
                "price": 321987
            },
            
            {
                "title": "321 Station Road",
                "type": "house",
                "is_for": "purchase",
                "rights": "Freehold",
                "price": 321987
            },

            {
                "title": "123 Church Road",
                "type": "house",
                "is_for": "let",
                "price": 975
            }

        ];

        reSort("weighted");

        async function reSort(sortMethod) {
            let sortedHouses = houses;
            console.info("Sorting");

            switch (sortMethod) {
                case "low-to-high": {
                    console.info("Low to High");
                    sortedHouses.sort((a, b) => parseFloat(a.price) - parseFloat(b.price));
                    break;
                }

                case "high-to-low": {
                    console.info("High to Low");
                    sortedHouses.sort((a, b) => parseFloat(b.price) - parseFloat(a.price));
                    break;
                }

                case "weighted": {
                    console.info("Weighted");
                    sortedHouses.sort((a, b) => parseFloat(b.weight) - parseFloat(a.weight));
                    break;
                }


                default: {
                    // continue;
                }
            }

            console.log(sortedHouses);

            let outputHTML = "";

            for(const h of sortedHouses) {
                outputHTML += `
                <li>
                    <h1>${h.title}</h1>
                    <h2>${h.type}</h2>
                    <p>${h.is_for} &bull; Â£${h.price}${h.rights?` (${h.rights})`:''}</p>
                </li>
                `
            }

            document.getElementById('sorting').innerHTML = outputHTML;
        }
    </script>


    <select onchange="reSort(this.value);">
        <option value="low-to-high">Price (Low &raquo; High)</option>
        <option value="high-to-low">Price (High &raquo; Low)</option>
    </select>

    <ol id="sorting">

    </ol>
</body>

</html>